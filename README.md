# ğŸ§ª Higgs Boson â€” Internal Email Previewer Tool  
> Named after the elusive particle because it felt cool to finally "see" something invisible.

![Built With Laravel](https://img.shields.io/badge/Built%20with-Laravel-red?style=flat&logo=laravel)
![PostgreSQL](https://img.shields.io/badge/Database-PostgreSQL-blue?style=flat&logo=postgresql)
![Automated](https://img.shields.io/badge/Automation-Bash-yellow?style=flat&logo=gnubash)
![Live Sharing](https://img.shields.io/badge/Live%20Preview-Ngrok-brightgreen?style=flat&logo=ngrok)

---

## ğŸ§  The Problem

As a developer, I often had to test and debug emails â€” OTPs, onboarding messages, offer mailers â€” that were generated by backend systems and stored as **HTML blobs in a PostgreSQL database**.

Hereâ€™s what I had to do every time:

- ğŸ” Run raw SQL queries to fetch the HTML body
- ğŸ§± Manually find the correct column
- ğŸ§¼ Clean up the HTML if needed
- ğŸ§ª Paste into a third-party viewer
- ğŸ§  Mentally track which email came from which flow

ğŸ‘‰ This was slow, inconsistent, and a major **productivity blocker**.

---

## âš ï¸ The Pain Points

| Challenge | Description |
|----------|-------------|
| ğŸ”Œ High friction | SQL, copy-paste, external viewers â€” repeated every time |
| ğŸ§­ No standardization | Couldnâ€™t share previews or workflows with teammates |
| ğŸ§± HTML not human-friendly | No live rendering or clickable buttons |
| ğŸ›‘ Local-only access | Couldnâ€™t demo or share test results |
| ğŸ”„ Switching DBs manually | Staging vs Prod vs UAT was error-prone |
| ğŸ” OTP/Email-based testing was slow | Had to hunt through logs to debug |

---

## ğŸ§  My Solution (3 Phases)

### âœ… Phase 1: ğŸš Bash Script + Chrome Automation

I started with a **quick hack**:

```bash
psql -U user -d dbname -c "SELECT html_body FROM email_logs WHERE email='xyz@example.com'" > output.txt
google-chrome --incognito output.txt
````

* Mapped to a keyboard shortcut ğŸ–±ï¸
* Worked fine, but Chrome was heavy and HTML was raw/unrendered
* Still had to fetch fresh mails manually

### ğŸ˜¤ The breaking point

One day, I had to test **6 different transactional emails**, each sent on different triggers. I found myself in this loop:

- Trigger action  
- Run the script  
- Chrome opens again  
- Close old tab  
- Repeat Ã—6

It was distracting, sluggish, and honestly annoying.  
Thatâ€™s when I thought: _â€œWhy not just make a live browser view that pulls the email automatically?â€_

---


### âœ… Phase 2: ğŸ›  Laravel-Powered Email Viewer

I built a full-fledged **internal web app** with Laravel:

* Connected to our **PostgreSQL** DB
* Fetched latest N emails or by `email_id`
* Rendered the HTML inside the browser â€” just like Gmail would!
* Auto-refreshed every **30 seconds** to catch new mails
* Added filters to show OTP/Onboarding/Offer emails

ğŸ“ˆ This made my testing 10x faster and way more visual.

### ğŸ§± The next roadblock

While the Laravel app was a huge upgrade, it wasnâ€™t perfect for *collaborative testing*.

Hereâ€™s what started becoming a hassle:

- ğŸ”’ The app was hosted locally on my machine â€” no one else could access it
- ğŸ”„ Every new team member had to set up the environment just to test emails
- ğŸ› ï¸ Backend changes meant I had to redeploy or explain local setup
- ğŸ”— Sharing a specific email meant taking a screenshot or copying raw HTML

It was functional, but not scalable.  
I realized â€” _"If testers and devs could view emails without touching code, it would save everyone time."_

---



### âœ… Phase 3: ğŸŒ Hosting + Ngrok + Sharing

To remove the "local-only" bottleneck:

* Hosted it locally at `http://higgsboson.in` (using host file mapping)
* Hooked into **Ubuntu startup script** to boot Laravel + Ngrok
* Used **Ngrok** to expose the tool with a public URL
* Ran a `curl` command to post the link to a **Google Chat webhook** for team access

```bash
ngrok http 8000 > /dev/null &
sleep 3
PUBLIC_URL=$(curl -s http://127.0.0.1:4040/api/tunnels | jq -r '.tunnels[0].public_url')
curl -X POST -H "Content-Type: application/json" \
  -d "{\"text\": \"ğŸ”— Higgs Boson is live: $PUBLIC_URL\"}" \
  https://chat.googleapis.com/v1/spaces/XYZ/messages?key=ABC
```
### ğŸš€ What I unlocked with this setup

This phase changed everything.

âœ… No more "Hey, can you send me the email again?"  
âœ… No more "Wait, it only works on your machine?"

Hereâ€™s what this automation achieved:

- ğŸ”— **One-click access**: Every time I booted up, a fresh Ngrok link was auto-generated and posted in our teamâ€™s Google Chat
- ğŸ§  **Zero manual steps**: I didnâ€™t have to explain how to access or use anything â€” just â€œclick the linkâ€
- ğŸ‘¨â€ğŸ’» **Cross-team visibility**: QA, Product, Dev â€” everyone had real-time access to transactional emails
- ğŸ›¡ï¸ **No production data risk**: It worked on our internal test DB, so we kept security intact

This small hack saved hours in communication and boosted our testing + feedback loop speed drastically.

---

## âœ¨ Features

* ğŸ“¬ Real-time HTML Email Rendering from PostgreSQL
* ğŸ” Auto-refresh every 30 seconds
* ğŸ” Filter by Email ID for OTP/onboarding mail testing
* ğŸŒ Live Preview via Ngrok
* ğŸ§ª Multi-environment (Staging / UAT / Prod) DB configs
* ğŸš€ Boots automatically with system startup
* ğŸ¤– One-click deploy and accessible across devices

---

## ğŸ§° Tech Stack

| Tech             | Use                                     |
| ---------------- | --------------------------------------- |
| Laravel          | Backend logic + Templating              |
| PostgreSQL       | Email DB Storage                        |
| Bash             | Automation scripts for Ngrok & boot     |
| Ngrok            | Public URL for internal Laravel service |
| Google Chat API  | Live link sharing with teammates        |
| Ubuntu           | OS hooks for automation                 |
| Chrome (Initial) | Rendering raw HTML (Phase 1)            |

---

## ğŸ“Š Before vs After

| Aspect             | Before                     | After                        |
| ------------------ | -------------------------- | ---------------------------- |
| Fetching HTML      | Manual SQL, raw copy-paste | Auto-fetched via Laravel     |
| Viewing Email      | External viewer, static    | In-browser live preview      |
| Sharing with QA    | Not possible               | Instant via Ngrok            |
| OTP Mail Debugging | Slow, log-based            | Filter and preview instantly |
| Memory/CPU         | Chrome heavy               | Lightweight Laravel          |
| Time per Test      | \~5 minutes                | \~5â€“10 seconds               |

---

## ğŸ“Œ Why This Matters

> This wasnâ€™t just a tool â€” it solved a **real problem** in my daily development workflow.

I went from copy-pasting raw HTML into Chrome tabsâ€¦
To running a fully automated, live-sharing, real-time preview platform â€”
That saved me (and my QA) hours every week, especially during deadline QA crunch.

---

## ğŸ§ª Screenshot
### Before it use to look like this.
> <img width="982" height="403" alt="image" src="https://github.com/user-attachments/assets/e106039d-4302-4cac-8bf8-cb2528b760c7" />

### After it use to look like this.
> <img width="709" height="509" alt="image" src="https://github.com/user-attachments/assets/55c8be1e-856a-4c4f-9a5e-aeeaed1c225b" />

### With specific email.
> <img width="709" height="509" alt="image" src="https://github.com/user-attachments/assets/24e78fce-0a28-43ba-b8ac-9e597f540ece" />

### Mobile view
> <img width="388" height="835" alt="image" src="https://github.com/user-attachments/assets/58872abe-b84f-4161-ba0d-e19c9e87c95d" />

### The auto start URL Gmail webhook.
> <img width="535" height="232" alt="image" src="https://github.com/user-attachments/assets/ad17e6a8-6c73-4e24-981b-7f2709e74984" />


 


---

## ğŸ§  Future Ideas

* ğŸ” Auth protection for public previews
* ğŸ“œ Email history with pagination
* ğŸ› Push alerts for new emails
* ğŸ”— UTM tracking checker built-in
* ğŸŒˆ Theming support for dark/light modes

---

Made with â¤ï¸ by [Yugal Sharma](https://github.com/XodboX38)

> Because every developer deserves better tools.
---
<p align="center">
  <b>Thanks for scrolling!</b> ğŸ’Œ Feel free to â­ the repo if this gave you ideas!
</p>

